{% extends 'base.html' %}
{% block title %}
    Home
{% endblock %}
{% block active_home %}active{% endblock %}
{% block content %}

<div class="container">
    <div class="modal fade" id="noteViewModal" aria-hidden="true">
      <div class="modal-dialog modal-dialog-scrollable modal-dialog-centered modal-fullscreen-sm-down">
        <div class="modal-content note-view-modal">
          <div class="modal-header border-0 p-0 m-0">
            <button type="button" data-bs-dismiss="modal" class="back-btn btn bi bi-arrow-left float-start" aria-label="Close" >
            </button>
          </div>
          <div class="modal-body p-3 fs-4">
            <div id="noteViewDate" class="text-muted fs-6"></div>
            <textarea name="note" id="noteViewModalContent" class="new-note form-control p-0" placeholder="Type your notes here..."></textarea>
          </div>
          <div class="modal-footer border-0 p-0 m-0">
            <button type="button" id="deleteNote-btn" class="delete-btn btn bi bi-trash-fill float-end">
            </button>
          </div>
        </div>
      </div>
    </div>
    <div class="modal fade" id="newNoteModal" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered modal-fullscreen-sm-down">
        <div class="modal-content new-note-modal container-fluid border-0 p-0">
          <form method="POST" class="my-0">
            <div class="modal-header p-0 m-0">
              <button type="button" data-bs-dismiss="modal" class="back-btn btn bi bi-arrow-left float-start" aria-label="Close" >
              </button>
              <button type="submit" class="submit-btn btn bi bi-check-lg float-end" aria-label="Close" >
              </button>
            </div>
            <div class="modal-body p-3 fs-3">
              <textarea name="note" id="note" class="new-note form-control" placeholder="Type your notes here...">Sample</textarea>
            </div>
          </form>
        </div>
      </div>
    </div>
    <h1 class="my-3 page-head-text">{{ user.username }}'s notes</h1>
    <!-- <hr> -->
    <div class="row note-grid g-3 mb-5 note-section" id="notes">
      {% for note in user.notes[::-1] %}
      <div class="col-6 col-lg-3">
        <div class="card note-card p-0 shadow-sm">
          <div class="btn card-body p-3" onclick="noteModal({{ note.id }})" >
            <p class="card-text text-start m-0" id="noteContent{{ note.id }}">{{ note.data }}</p>
            <p class="d-none" id="noteDate{{ note.id }}">{{ note.date }}</p>
          </div>
        </div>
      </div>
      {% endfor %}
    </div>
    <div id="new-note" class="fixed-bottom p-3">
      <button type="button" class="new-note-btn rounded-circle btn-lg btn bi bi-journal-plus float-end" onclick="newNoteModal()"></button>
    </div>
  </div>

{% endblock %}
